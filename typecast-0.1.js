(function(){var e,t=this,n=t.Type,r="0.1",i=function(e){return function(){return e}},s=function(e){return e instanceof TypedObject?e.a():e},o=function(e){return e instanceof TypedObject?e.type():e},u=function(t,n,r,i){return e.each(t,function(t,s){if(!r||e.indexOf(r,s)===-1)i&&typeof t=="function"?n[s]=e.bind(t,i):n[s]=t}),n},a=function(t,n,r,i){return i=i||this,e.each(t,function(t,o){n[o]=function(){var n=e.map(arguments,function(e){return s(e)}),o=t.apply(i,n);return r=r||p.detect(o),p(r,o)}}),n},f={},l=[],c={},h=function(e,t){return p.types.is(e)?!1:(this.name=e,this.is=function(e){return typeof e==typeof t},this.can=i(!0),this.make=i(t),this.a=this.val=this.get=i(t),this.type=i(e),this)},TypedObject=function(e,t){return e=o(e),t=s(t),p.types.is(e)?(t=p.is(e,t)?t:p.make(e,t),this.name=e,this.type=i(e),this.a=i(t),this.val=this.get=function(){return this.a()},this.set=function(e){return this.a=i(e),this},this.can=function(e){return p.types.is(e)&&p.can(e,this.a())?!0:!1},this.is=function(e){return p.types.is(e)&&p.is(e,this.a())?!0:!1},this.ifis=function(e,t,n){if(p.is("function",t)){if(this.type()===e||p.is("boolean",e))return t.call(this.a());if(p.is("function",n))return n.call(this.a())}return!1},this.to=function(e){var t=this.a();return transform=c[this.type()][e],transform&&(t=transform(t)),p.types.is(e)?p(e,t):p(p.detect(t),t)},this):{}},p=function(e,t){if(p.is("def",t)){var n=new TypedObject(e,t);return u(f[e],n,["a"]),a(c[e],n.to,!1,n),n}return p(p.detect(e),e)};if(!t._)return!1;e=p._=t._,p.detect=function(e){return e=s(e),p.is("null",e)?"null":p.is("nan",e)?"nan":p.is("args",e)?"args":p.is("arr",e)?"array":typeof e},p.types=function(){return l},p.types.is=function(e){var t,n;if(typeof e=="string")for(t=0,n=l.length;t<n;t++)if(l[t].toLowerCase()===e.toLowerCase())return!0;return!1},p.extend=function(t){var n,r,i,s,o=t.name,d=t.a,v=t.inherits||[],m=t.alias||[],g=t.methods||{},y=t.transforms||{};m.unshift(o),n=new h(o,d),e.each(v,function(e){u(p[e],n,["a"])}),u(t,n,["inherits","alias","methods","name","a"]),r={},e.each(v,function(e){u(c[e],r)}),u(y,r),i=function(e){return p.can(o,e)?p(o,e):p(o,n.a())},u(n,i),e.each(m,function(e){l.push(e),c[e]=y,p[e]=i}),s=new TypedObject(o,d),e.each(v,function(e){u(f[e],s)}),a(g,s,o),e.each(m,function(e){f[e]=s})},p.extend.transforms=function(e,t,n){if(!p.types.is(e)||!p.is("obj",n))return!1;u(n,c[e][t])},p.extend.objects=function(e,t){if(!p.types.is(e)||!p.is("obj",t))return!1;u(t,_definition[e])},p.extend.methods=function(e,t){if(!p.types.is(e)||!p.is("obj",t))return!1;u(t,p[e])},p.extend.wrap=i,p.extend.pop=s,p.extend.popType=o,p.extend.inherit=u,p.extend.wrap=a,p.a=function(e){var t=o(e);return p.types.is(t)?p[t].a():!1},p.is=function(e,t){var n=o(e),r=s(t);return p.types.is(n)&&p[n]?p[n].is(r):!1},p.can=function(e,t){var n=o(e),r=s(t);return p.types.is(n)?p(n,r)instanceof TypedObject:!1},p.to=function(e,t){var n=o(e),r=s(t);return p.types.is(n)?p(n,r):!1},p.make=function(e,t){var n=o(e),r=s(t);return p.types.is(n)?p[n].make(r):!1},p.VERSION=r,p.noConflict=function(r){return r&&t._&&(e=p._=e.noConflict()),t.Type=n,p},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=p),exports.Type=p):t.Type=p}).call(this),function(){var e=Type.extend;e({"a":null,"name":"null","is":_.isNull}),e({"a":undefined,"name":"undefined","is":_.isUndefined}),e({"a":NaN,"name":"nan","is":_.isNaN}),e({"a":!0,"name":"defined","alias":["def"],"is":function(e){return!(Type.is("nan",e)||Type.is("undefined",e)||Type.is("null",e))},"make":function(e){return this.is(e)?e:this.a()}}),e({"a":!0,"name":"boolean","alias":["bool"],"is":_.isBoolean,"make":function(e){return/^true$/i.test(e)},"methods":{"not":function(){return!this.a()}}}),e({"a":!0,"name":"true","inherits":["boolean"],"is":function(e){return e===!0},"make":Type.bool.a}),e({"a":!1,"name":"false","inherits":["boolean"],"is":function(e){return e===!1},"make":function(){return!1}}),e({"a":!0,"name":"truthy","inherits":["boolean"],"is":function(e){return e==1},"make":function(e){return e?e:!0}}),e({"a":!1,"name":"falsey","inherits":["boolean"],"is":function(e){return e==0},"make":function(e){return e?!1:e}}),e({"a":0,"name":"number","alias":["num"],"is":function(e){return _.isNumber(e)&&!Type.is("nan",parseFloat(e))},"make":function(e){var t,n,r;if(Type.is("num",e))return e;if(Type.is("bool",e))return e?1:0;if(Type.is("obj",e)){t=Type.helpers.pop(e);if(Type.is("num",t))return t;if(t.val&&Type.is("num",t.val))return type.val;if(t.value&&Type.is("num",t.value))return type.value}if(Type.is("fn",e)){n=e();if(Type.is("num",n))return n}return Type.is("arr",e)?e.length:Type.is("str",e)?(r=e*1||0,r===0&&!e.match(/^0+$/)?this.a():r):this.a()},"random":_.random,"range":_.range,"methods":{"abs":function(){return Math.abs(this.a())},"acos":function(){return Math.acos(this.a())},"asin":function(){return Math.asin(this.a())},"atan":function(){return Math.atan(this.a())},"ceil":function(){return Math.ceil(this.a())},"cos":function(){return Math.cos(this.a())},"exp":function(){return Math.exp(this.a())},"floor":function(){return Math.floor(this.a())},"log":function(){return Math.log(this.a())},"max":function(e){return Math.max(this.a(),e)},"min":function(e){return Math.min(this.a(),e)},"pow":function(e){return Math.min(this.a(),e)},"round":function(){return Math.round(this.a())},"sin":function(){return Math.sin(this.a())},"sqrt":function(){return Math.sqrt(this.a())},"tan":function(){return Math.tan(this.a())},"plus":function(e){return e+this.a()},"minus":function(e){return e-this.a()},"mod":function(e){return e%this.a()},"times":function(e){return e*this.a()},"div":function(e){return e/this.a()},"sign":function(){var e=this.a();return e==0?0:e/Math.abs(e)}},"transforms":{"fixed":function(e){return parseFloat(this.a().toFixed(e||2),10)},"hex":function(){return this.a().toString(16)},"binary":function(){return this.a().toString(2)},"between":function(e,t){return this.a()>this.make(e)&&this.a()<this.make(t)},"eq":function(e){return e===this.a()},"neq":function(e){return e!==this.a()},"lt":function(e){return e<this.a()},"lte":function(e){return e<=this.a()},"gt":function(e){return e>this.a()},"gte":function(e){return e>=this.a()}}}),e({"a":1,"name":"integer","alias":["int"],"inherits":["number"],"is":function(e){return Math.floor(e)===e},"make":function(e){var t=parseInt(e,10);return isNaN(t)?this.a():t},"methods":{"dec":function(){return--thia.a()},"inc":function(){return++thia.a()}}}),e({"a":.1,"name":"float","inherits":["number"],"is":function(e){return e==this.make(e)},"make":function(e,t){return e=parseFloat(e,10),t=Type.is("int",t)&&Type.is("+",t)?t:2,Type.is("num",e)?Type("num",e).to.fixed(t).a():this.a()},"eq":function(e,t,n){return n=Type.is("def",n)?n:2,Type("num",e).to.fixed(n).a()===Type("num",t).to.fixed(n).a()},"methods":{"decimal":function(){return this.a()%1}},"transforms":{"eq":function(e,t){return Type.float.eq(this,e,t)},"fixed":function(e,t){return t=Type.is("int",t)&&Type.is("+",t)?t:2,Type("num",e).to.fixed(t).a()}}}),e({"a":1,"name":"positive","alias":["+"],"inherits":["number"],"is":function(e){return Type.is("num",e)&&e>0},"make":function(e){return this.is(e)?e:Type.is("num",e)?-e:!1}}),e({"a":-1,"name":"negative","alias":["-"],"inherits":["number"],"is":function(e){return Type.is("num",e)&&e<0},"make":function(e){return this.is(e)?e:Type.is("num",e)?-e:!1}}),e({"a":"","name":"string","alias":["str"],"is":_.isString,"make":function(e){return Type.is("def",e)?String(e):this.a()},"fromCharCode":function(){return String.fromCharCode.apply(null,arguments)},"methods":{"charAt":function(e){return this.a().charAt(e)},"charCodeAt":function(e){return this.a().charCodeAt(e)},"length":function(){return this.a().length},"escape":function(){return _.escape(this.a())},"unescape":function(){return _.unescape(this.a())},"template":function(e,t){return _.template(this.a(),e,t)},"lower":function(){return this.a().toLowerCase()},"upper":function(){return this.a().toUpperCase()},"trim":function(){return this.ltrim().rtrim().a()},"ltrim":function(){return this.a().replace(/^\s+/,"")},"rtrim":function(){return this.a().replace(/\s+$/,"")},"replace":function(){return this.a().replace.apply(this,arguments)},"truncate":function(e,t){var n=this.a();return n.length>e&&e&&!isNaN(e)?Type.is("falsey",t)?n.substr(0,e):n.substr(0,e)+"&hellip;":n}},"transforms":{"contains":function(e){return _.contains(this.a(),e)},"array":function(){return _.toArray(this.a())},"length":function(){return _.size(this.a())},"split":function(){return this.a().split.apply(this,arguments)}}}),e({"a":"","name":"blank string","alias":["blank"],"inherits":["string"],"is":function(e){return e===""},"make":function(){return this.a()}}),e({"a":"","name":"plain string","alias":["plain"],"inherits":["string"],"is":function(e){return this.make(e).length===e.length},"make":function(e){return e.replace(/^[^a-zA-Z0-9@!#\$\^%&*()+=\-\[\]\\\';,\.\/\{\}\|\":<>\? ]+$/,"")}}),e({"a":"test@test.com","name":"email","inherits":["string"],"is":function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},"make":function(e,t,n){return this.is(e)?e:e&&t&&n?e+"@"+t+"."+n:e&&t?e+"@"+t:this.a()}}),e({"a":"0","name":"unique id","alias":["unique"],"ids":["0"],"is":function(e){return e=Type.make("str",e),e?_.indexOf(this.ids,e)!==-1:!1},"can":function(e){return e=Type.make("str",e),e?_.indexOf(this.ids,e)===-1:!1},"make":function(e){e=Type.make("str",e);while(_.indexOf(this.ids,e)!==-1)e=_.uniqueId();return this.ids.push(e),e},"methods":{"refresh":function(e){return this.make(e)}}}),e({"a":{},"name":"collection","is":function(e){return _.isObject(e)||_.isArray(e)},"can":function(e){return this.is(e)},"make":function(e){return this.is(e)?e:Type.obj.make(e)},"methods":{"each":function(e,t){return _.each(this.a(),e,t)},"map":function(e,t){return _.map(this.a(),e,t)},"reduce":function(e,t){return _.reduce(this.a(),e,t)},"reduceRight":function(e,t){return _.reduceRight(this.a(),e,t)},"find":function(e,t){return _.find(this.a(),e,t)},"filter":function(e,t){return _.filter(this.a(),e,t)},"where":function(e){return _.where(this.a(),e)},"reject":function(e,t){return _.reject(this.a(),e,t)},"contains":function(e){return _.contains(this.a(),e)},"invoke":function(){var e=_(this.a());return e.invoke.apply(e,arguments)},"pluck":function(e){return _.pluck(this.a(),e)},"sortBy":function(e,t){return _.sortBy(this.a(),e,t)},"groupBy":function(e){return _.groupBy(this.a(),e)},"countBy":function(e){return _.countBy(this.a(),e)},"shuffle":function(e){return _.shuffle(this.a(),e)},"toArray":function(){return _.toArray(this.a())},"length":function(){return _.length(this.a())},"mapValues":function(e,t){return _.reduce(e,function(n,r,i){return n[i]=t(r,i,e),n},{})}},"transforms":{"all":function(e,t){return _.all(this.a(),e,t)},"any":function(e,t){return _.any(this.a(),e,t)},"max":function(e,t){return _.max(this.a(),e,t)},"min":function(e,t){return _.min(this.a(),e,t)}}}),e({"a":[],"name":"array","alias":["arr"],"inherits":["collection"],"is":_.isArray,"make":function(e){return Type.is("args",e)?_.toArray(e):Type.is("arr",e)?e:Type.is("obj",e)?_.map(e,function(e){return e}):Type.is("fn",e)&&Type.is("arr",e())?e():Type.is("def",e)?_.toArray(arguments):!1},"range":_.range,"toObject":_.object,"zip":_.zip,"indexOf":function(e,t){return _.indexOf(this.a(),e,t)},"lastIndexOf":function(e,t){return _.lastIndexOf(this.a(),e,t)},"methods":{"initial":function(e){return _.initial(this.a(),e)},"rest":function(e){return _.rest(this.a(),e)},"compact":function(e){return _.compact(this.a(),e)},"flatten":function(e){return _.flatten(this.a(),e)},"without":function(){var e=_(this.a());return e.without.apply(e,arguments)},"union":function(){var e=_(this.a());return e.union.apply(e,arguments)},"intersection":function(){var e=_(this.a());return e.intersection.apply(e,arguments)},"difference":function(){var e=_(this.a());return e.intersection.apply(e,arguments)},"unique":function(e){return _.unique(this.a(),e)},"sortedIndex":function(e,t){return _.sortedIndex(this.a(),e,t)},"push":function(e){return this.a().push(e)},"pop":function(){return this.a().pop()},"unshift":function(e){return this.a().unshift(e)},"shift":function(){return this.a().shift()},"slice":function(e,t){return this.a().slice(e,t)},"splice":function(){return this.a().splice.apply(this,arguments)},"sort":function(e){return this.a().sort(e)}},"transforms":{"first":function(e){return _.first(this.a(),e)},"last":function(e){return _.last(this.a(),e)}}}),e({"a":function(){return arguments}(),"name":"args","inherits":["arr"],"is":function(e){return e!=null&&(Object.prototype.toString.call(e)=="[object Arguments]"||!!e.callee)},"can":function(e){return this.is(e)||Type.is("arr",e)},"make":function(){return arguments},"arr":function(e){return Array.prototype.slice.call(e)},"methods":{"arr":function(){Type.args.arr(this.a())},"sub":function(e){return this.arr().slice(e||1,this.arr().length)},"pre":function(e){return this.arr().unshift(e).a()}}}),e({"a":{},"name":"object","alias":["obj"],"inherits":["collection"],"is":function(e){return _.isObject(e)&&!Type.is("arr",e)},"make":function(e,t){return Type.is("obj",e)?e:Type.is("arr",e)?Type.is("arr",t)?_.object(e,t):_.extend({},e):Type.is("fn",e)&&Type.is("obj",e())?e():Type.is("def",e)?{"value":e}:!1},"extend":_.extend,"clone":_.clone,"isSubobject":function(e,t){return _.isEqual(e,_.pick(t,_.keys(e)))},"methods":{"extend":function(){var e=_(this.a());return e.extend.apply(e,arguments)},"clone":function(){return _.clone(this.a())},"pairs":function(){return _.pairs(this.a())},"invert":function(){return _.invert(this.a())},"functions":function(){return _.functions(this.a())},"pick":function(){var e=_(this.a());return e.pick.apply(e,arguments)},"omit":function(){var e=_(this.a());return e.omit.apply(e,arguments)},"defaults":function(){var e=_(this.a());return e.defaults.apply(e,arguments)},"tap":function(e){return _.tap(this.a(),e)}},"transforms":{"keys":function(){return _.last(this.a())},"values":function(){return _.values(this.a())},"isEqual":function(e){return _.isEqual(this.a(),e)},"isEmpty":function(){return _.isEmpty(this.a())},"isElement":function(){return _.isElement(this.a())},"has":function(e){return _.has(this.a(),e)},"result":function(e){return _.result(this.a(),e)}}}),e({"a":{},"name":"json","is":function(e){if(JSON){if(Type.is("str",e))return Type.is("obj",JSON.parse(e));if(Type.is("obj",e)||Type.is("arr",e))return Type.is("str",JSON.stringify(e))}return!1},"make":function(e){if(JSON){if(Type.is("str",e))return JSON.parse(e);if(Type.is("obj",e)||Type.is("arr",e))return JSON.stringify(e)}return this.a()},"stringify":JSON.stringify,"parse":JSON.parse}),e({"a":function(){},"name":"function","alias":["fn"],"is":_.isFunction,"can":function(e){return _.isFunction(e)},"make":function(e){return this.is(e)?e:this.a()},"noop":function(){return function(){}},"always":function(e){return function(){return e}},"compose":function(){return _.compose.apply(null,arguments)},"identity":_.identity,"methods":{"bind":function(){var e=_(this.a());return e.bind.apply(e,arguments)},"memorize":function(e){return _.memorize(this.a(),e)},"delay":function(){var e=_(this.a());return e.delay.apply(e,arguments)},"defer":function(){var e=_(this.a());return e.defer.apply(e,arguments)},"throttle":function(e){return _.throttle(this.a(),e)},"debounce":function(e,t){return _.debounce(this.a(),e,t)},"once":function(){return _.once(this.a())},"after":function(e){return _.after(e,this.a())},"wrap":function(e){return _.wrap(this.a(),e)}},"transforms":{"call":function(){return this.a().call(arguments)},"apply":function(e,t){return this.a().apply(e,t)},"callIf":function(e){return Type.is("true",e)||Type.types.is(e)?this.a().call(arguments):!1},"proxy":function(e){return function(){return this.a.apply(e,arguments)}},"times":function(e){return _.times(e,this.a())}}}),e({"a":[],"name":"queue","alias":["que"],"is":function(e){return Type.is("arr",e)&&_.all(e,function(e){return Type.is("fn",e)})},"make":function(e){return Type.is("queue",e)?e:Type.is("fn",e)?[e]:[]}}),e({"a":new RegExp,"name":"regex","alias":["regexp"],"is":_.isRegExp,"make":function(e,t){return new RegExp(e,t)}}),e({"a":new Date,"name":"date","is":_.isDate,"make":function(e){return new Date(e)},"shortMonth":function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e]||t},"day":function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return t[e]||t},"shortDay":function(e){var t=["Su","M","Tu","W","Th","F","Sa"];return t[e]||t}})}()